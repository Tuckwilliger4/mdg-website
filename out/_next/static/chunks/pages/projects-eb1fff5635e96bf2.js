(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{5039:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return t(2286)}])},8212:function(e,r,t){"use strict";t.d(r,{Z:function(){return Layout}});var n=t(5893),l=t(9008),s=t.n(l),i=t(1664),o=t.n(i),c=t(7294),a=t(1163);function Logo(e){let{size:r="nav",className:t=""}=e;return(0,n.jsxs)("span",{className:"logo-container ".concat(t," ").concat("footer"===r?"footer-logo-text":"nav-logo-text"),children:[(0,n.jsx)("h1",{id:"red",children:"McKim"}),(0,n.jsx)("h1",{id:"purple",children:"Design"}),(0,n.jsx)("h1",{id:"yellow",children:"Group"})]})}function Nav(e){var r,t;let{site:l}=e,[s,i]=(0,c.useState)(!1),d=(0,a.useRouter)(),u="/"===d.pathname,h=(0,c.useRef)(null),[v,j]=(0,c.useState)(0);(0,c.useEffect)(()=>{let updateHeaderHeight=()=>{h.current&&j(h.current.clientHeight)};return updateHeaderHeight(),window.addEventListener("resize",updateHeaderHeight),()=>{window.removeEventListener("resize",updateHeaderHeight)}},[u]);let m=u?"head-nav":"head-nav absolute",f="".concat(m).concat(s?" menu-open":"");return(0,n.jsxs)(n.Fragment,{children:[!u&&(0,n.jsx)("div",{className:"ghost-nav",style:{height:v,background:"black"}}),(0,n.jsxs)("header",{ref:h,className:f,children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(null==l?void 0:null===(r=l.branding)||void 0===r?void 0:r.mobileLogo)?(0,n.jsx)(o(),{href:"/",children:(0,n.jsx)("img",{src:l.branding.mobileLogo,className:"nav-logo mobile-only",style:{height:50}})}):(0,n.jsx)(o(),{href:"/",className:"mobile-only",children:(0,n.jsx)(Logo,{size:"nav",className:"title"})}),(null==l?void 0:null===(t=l.branding)||void 0===t?void 0:t.desktopLogo)?(0,n.jsx)(o(),{href:"/",children:(0,n.jsx)("img",{src:l.branding.desktopLogo,className:"nav-logo desktop-logo",style:{height:50}})}):(0,n.jsx)(o(),{href:"/",children:(0,n.jsx)(Logo,{size:"nav",className:"title desktop-logo"})})]}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"main-nav",children:[(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/about",className:"nav-ele",children:"Profile"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/services",className:"nav-ele",children:"Services"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/projects",className:"nav-ele",children:"Portfolio"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/contact",className:"nav-ele",children:"Contact"})})]})}),(0,n.jsxs)("div",{className:"nav-container-flex ".concat(s?"active":""),onClick:()=>i(!s),children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})]}),(0,n.jsx)("nav",{className:"outer-menu ".concat(s?"js--anim-2":""),style:{display:s?"flex":"none"},children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/",onClick:()=>i(!1),children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/about",onClick:()=>i(!1),children:"Profile"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/services",onClick:()=>i(!1),children:"Services"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/projects",onClick:()=>i(!1),children:"Portfolio"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/contact",onClick:()=>i(!1),children:"Contact"})})]})})]})}function Layout(e){var r,t,l,i,o,c,a,d,u;let{children:h,site:v}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:(null==v?void 0:null===(r=v.meta)||void 0===r?void 0:r.title)||"McKim Design Group"}),(0,n.jsx)("meta",{name:"description",content:(null==v?void 0:null===(t=v.meta)||void 0===t?void 0:t.description)||"Architecture firm"}),(0,n.jsx)("meta",{name:"keywords",content:(null==v?void 0:null===(l=v.meta)||void 0===l?void 0:l.keywords)||""}),(0,n.jsx)("link",{rel:"icon",href:(null==v?void 0:null===(i=v.branding)||void 0===i?void 0:i.favicon)||"/favicon.ico"})]}),(0,n.jsx)(Nav,{site:v}),(0,n.jsx)("main",{children:h}),(0,n.jsx)("footer",{className:"site-footer",children:(0,n.jsxs)("div",{className:"footer-container",children:[(0,n.jsxs)("div",{className:"footer-content",children:[(0,n.jsx)("div",{className:"footer-logo-section",children:(null==v?void 0:null===(o=v.branding)||void 0===o?void 0:o.desktopLogo)?(0,n.jsx)("img",{src:v.branding.desktopLogo}):(0,n.jsx)(Logo,{size:"footer",className:"footer-company-name"})}),(0,n.jsxs)("div",{className:"footer-contact-row",children:[(0,n.jsx)("div",{className:"footer-contact-item",children:(0,n.jsx)("span",{className:"contact-value",children:(null==v?void 0:null===(c=v.contact)||void 0===c?void 0:c.address)||(null==v?void 0:v.address)})}),(0,n.jsx)("span",{className:"footer-divider-vertical",children:"|"}),(0,n.jsx)("div",{className:"footer-contact-item",children:(0,n.jsx)("span",{className:"contact-value",children:(null==v?void 0:null===(a=v.contact)||void 0===a?void 0:a.phone)||(null==v?void 0:v.phone)})}),(0,n.jsx)("span",{className:"footer-divider-vertical",children:"|"}),(0,n.jsx)("div",{className:"footer-contact-item",children:(0,n.jsx)("span",{className:"contact-value",children:(null==v?void 0:null===(d=v.contact)||void 0===d?void 0:d.email)||(null==v?void 0:v.email)})}),(0,n.jsx)("span",{className:"footer-divider-vertical desktop-only",children:"|"}),(0,n.jsx)("div",{className:"footer-contact-item desktop-only",children:(0,n.jsx)("a",{href:"/contact",className:"contact-value contact-link",children:"Project Inquiries"})})]})]}),(0,n.jsxs)("div",{className:"footer-copyright",children:["Copyright ",new Date().getFullYear()," \xa9 ",(null==v?void 0:null===(u=v.branding)||void 0===u?void 0:u.companyName)||"McKim Design Group",". All rights reserved."]})]})})]})}},505:function(e,r,t){"use strict";t.d(r,{I:function(){return ScrollProvider},K:function(){return useScrollContext}});var n=t(5893),l=t(7294);let s=(0,l.createContext)(),useScrollContext=()=>{let e=(0,l.useContext)(s);if(!e)throw Error("useScrollContext must be used within a ScrollProvider");return e},ScrollProvider=e=>{let{children:r}=e,[t,i]=(0,l.useState)(null),o=(0,l.useRef)(new Map);(0,l.useRef)(null);let c=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let handleScroll=()=>{if(window.innerWidth>1024)return;let e=.3*window.innerHeight,r=null,t=1/0;o.current.forEach((n,l)=>{let s=n.getBoundingClientRect(),i=s.top,o=Math.abs(i-e);s.bottom>0&&s.top<window.innerHeight&&o<150&&o<t&&(t=o,r=l)}),r!==c.current&&(c.current=r,i(r))};return window.addEventListener("scroll",handleScroll,{passive:!0}),handleScroll(),()=>{window.removeEventListener("scroll",handleScroll)}},[]),(0,n.jsx)(s.Provider,{value:{activeIndex:t,registerElement:(e,r)=>{r&&o.current.set(e,r)},unregisterElement:e=>{o.current.delete(e)}},children:r})}},2286:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return d},default:function(){return Projects}});var n=t(5893),l=t(1664),s=t.n(l),i=t(8212),o=t(7294),c=t(1163),a=t(505);function ProjectGrid(e){var r;let{projects:t,site:l}=e,i=(0,c.useRouter)(),{activeIndex:d,registerElement:u,unregisterElement:h}=(0,a.K)(),v=(0,o.useRef)([]),j=(0,o.useRef)({}),m=(0,o.useRef)(null),f=[...new Set(t.map(e=>e.category))],x=(null==l?void 0:null===(r=l.projects)||void 0===r?void 0:r.categoryOrder)||[],g=x.length>0?x.filter(e=>f.includes(e)):f,[p,N]=(0,o.useState)(g[0]||"Commercial"),[w,b]=(0,o.useState)([]),[y,k]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(i.query.category){let e=i.query.category.charAt(0).toUpperCase()+i.query.category.slice(1);g.includes(e)&&N(e)}},[i.query.category,g]),(0,o.useEffect)(()=>{let e=t.filter(e=>e.category===p);b(e)},[t,p]),(0,o.useEffect)(()=>{let checkOverflow=()=>{if(m.current&&window.innerWidth<=767){let e=m.current,r=e.offsetWidth,t=0;Object.values(j.current).forEach(e=>{e&&(t+=e.offsetWidth)});let n=t>r;if(k(n),n&&!y){let e=j.current[p];e&&setTimeout(()=>{e.scrollIntoView({behavior:"auto",block:"nearest",inline:"center"})},50)}}else k(!1)};checkOverflow();let e=setTimeout(checkOverflow,100);return window.addEventListener("resize",checkOverflow),()=>{clearTimeout(e),window.removeEventListener("resize",checkOverflow)}},[g,y]),(0,o.useEffect)(()=>{let e=j.current[p];e&&m.current&&y&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[p,y]),(0,o.useEffect)(()=>(v.current.forEach((e,r)=>{e&&u(r+1,e)}),()=>{v.current.forEach((e,r)=>{h(r+1)})}),[u,h,w.length]);let handleCategoryChange=e=>{N(e),i.push({pathname:i.pathname,query:{category:e.toLowerCase()}},void 0,{shallow:!0})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"project-btns","data-has-overflow":y,children:[y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"category-scroll-arrow arrow-left",onClick:()=>{m.current&&m.current.scrollBy({left:-150,behavior:"smooth"})},"aria-label":"Scroll left",children:"‹"}),(0,n.jsx)("button",{className:"category-scroll-arrow arrow-right",onClick:()=>{m.current&&m.current.scrollBy({left:150,behavior:"smooth"})},"aria-label":"Scroll right",children:"›"})]}),(0,n.jsx)("div",{className:"projects-head-btns",ref:m,children:g.map(e=>(0,n.jsx)("div",{ref:r=>{j.current[e]=r},className:"projects-head-btn ".concat(p===e?"active":""),onClick:()=>handleCategoryChange(e),children:e},e))})]}),(0,n.jsx)("section",{className:"section-projects-grid section-projects-grid-desktop",children:w.map((e,r)=>(0,n.jsxs)("div",{className:"project-grid-item",children:[(0,n.jsxs)("div",{className:"project-grid-caption",children:[(0,n.jsx)("span",{className:"project-grid-title",children:e.title}),(0,n.jsx)(s(),{href:"/projects/".concat(e.slug),className:"project-grid-btn",children:"Discover"})]}),(0,n.jsx)("img",{src:e.hero,alt:e.title,className:"preHover"})]},r))}),(0,n.jsx)("section",{className:"section-projects-grid section-projects-grid-mobile",children:w.map((e,r)=>(0,n.jsxs)(s(),{href:"/projects/".concat(e.slug),className:"project-grid-item mobile-project-item ".concat(d===r+1?"in-view":""),"data-index":r+1,ref:e=>{v.current[r]=e},children:[(0,n.jsx)("div",{className:"project-grid-caption project-grid-caption-visible",children:(0,n.jsx)("span",{className:"project-grid-title",children:e.title})}),(0,n.jsx)("img",{src:e.hero,alt:e.title,className:"preHover"})]},r))})]})}var d=!0;function Projects(e){let{list:r,site:t}=e;return(0,n.jsx)(i.Z,{meta:{title:"Projects"},site:t,children:(0,n.jsx)(a.I,{children:(0,n.jsx)(ProjectGrid,{projects:r,site:t})})})}}},function(e){e.O(0,[814,774,888,179],function(){return e(e.s=5039)}),_N_E=e.O()}]);